import{b as Ye,r,j as e,h as Ge,c as ut,T as ht}from"./index-W9gOaUGz.js";import{c as Re,g as we,s as ee,d as qe,m as Be,k as Te,f as q,h as Me,i as be,w as xt,K as _e,M as Qe,x as me,H as Je,p as je,t as pt,B as d,T as S,a as le,F as U,S as K,b as H,C as mt,I as Oe}from"./TextField-BGh1fXjM.js";import{u as bt,N as gt}from"./Navbar-GM-6B1fO.js";import{M as O,d as re,a as ne,b as ae,c as ie,e as ce,f as de}from"./d6-gVYctPMz.js";function vt(o){return we("MuiTab",o)}const L=Re("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),St=o=>{const{classes:t,textColor:s,fullWidth:h,wrapped:f,icon:v,label:y,selected:w,disabled:p}=o,C={root:["root",v&&y&&"labelIcon",`textColor${Ye(s)}`,h&&"fullWidth",f&&"wrapped",w&&"selected",p&&"disabled"],icon:["iconWrapper","icon"]};return Me(C,vt,t)},yt=ee(qe,{name:"MuiTab",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.root,s.label&&s.icon&&t.labelIcon,t[`textColor${Ye(s.textColor)}`],s.fullWidth&&t.fullWidth,s.wrapped&&t.wrapped,{[`& .${L.iconWrapper}`]:t.iconWrapper},{[`& .${L.icon}`]:t.icon}]}})(Be(({theme:o})=>({...o.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:s})=>t.icon&&t.label&&s==="top",style:{[`& > .${L.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:s})=>t.icon&&t.label&&s==="bottom",style:{[`& > .${L.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:s})=>t.icon&&t.label&&s==="start",style:{[`& > .${L.icon}`]:{marginRight:o.spacing(1)}}},{props:({ownerState:t,iconPosition:s})=>t.icon&&t.label&&s==="end",style:{[`& > .${L.icon}`]:{marginLeft:o.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${L.selected}`]:{opacity:1},[`&.${L.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(o.vars||o).palette.text.secondary,[`&.${L.selected}`]:{color:(o.vars||o).palette.primary.main},[`&.${L.disabled}`]:{color:(o.vars||o).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(o.vars||o).palette.text.secondary,[`&.${L.selected}`]:{color:(o.vars||o).palette.secondary.main},[`&.${L.disabled}`]:{color:(o.vars||o).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:o.typography.pxToRem(12)}}]}))),jt=r.forwardRef(function(t,s){const h=Te({props:t,name:"MuiTab"}),{className:f,disabled:v=!1,disableFocusRipple:y=!1,fullWidth:w,icon:p,iconPosition:C="top",indicator:I,label:T,onChange:x,onClick:W,onFocus:n,selected:m,selectionFollowsFocus:A,textColor:u="inherit",value:l,wrapped:R=!1,...j}=h,k={...h,disabled:v,disableFocusRipple:y,selected:m,icon:!!p,iconPosition:C,label:!!T,fullWidth:w,textColor:u,wrapped:R},N=St(k),F=p&&T&&r.isValidElement(p)?r.cloneElement(p,{className:q(N.icon,p.props.className)}):p,Y=P=>{!m&&x&&x(P,l),W&&W(P)},$=P=>{A&&!m&&x&&x(P,l),n&&n(P)};return e.jsxs(yt,{focusRipple:!y,className:q(N.root,f),ref:s,role:"tab","aria-selected":m,disabled:v,onClick:Y,onFocus:$,ownerState:k,tabIndex:m?0:-1,...j,children:[C==="top"||C==="start"?e.jsxs(r.Fragment,{children:[F,T]}):e.jsxs(r.Fragment,{children:[T,F]}),I]})}),Ct=be(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Rt=be(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function wt(o){return(1+Math.sin(Math.PI*o-Math.PI/2))/2}function Bt(o,t,s,h={},f=()=>{}){const{ease:v=wt,duration:y=300}=h;let w=null;const p=t[o];let C=!1;const I=()=>{C=!0},T=x=>{if(C){f(new Error("Animation cancelled"));return}w===null&&(w=x);const W=Math.min(1,(x-w)/y);if(t[o]=v(W)*(s-p)+p,W>=1){requestAnimationFrame(()=>{f(null)});return}requestAnimationFrame(T)};return p===s?(f(new Error("Element already at target position")),I):(requestAnimationFrame(T),I)}const Tt={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Mt(o){const{onChange:t,...s}=o,h=r.useRef(),f=r.useRef(null),v=()=>{h.current=f.current.offsetHeight-f.current.clientHeight};return xt(()=>{const y=Qe(()=>{const p=h.current;v(),p!==h.current&&t(h.current)}),w=_e(f.current);return w.addEventListener("resize",y),()=>{y.clear(),w.removeEventListener("resize",y)}},[t]),r.useEffect(()=>{v(),t(h.current)},[t]),e.jsx("div",{style:Tt,ref:f,...s})}function It(o){return we("MuiTabScrollButton",o)}const Wt=Re("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),At=o=>{const{classes:t,orientation:s,disabled:h}=o;return Me({root:["root",s,h&&"disabled"]},It,t)},Et=ee(qe,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.root,s.orientation&&t[s.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Wt.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Nt=r.forwardRef(function(t,s){const h=Te({props:t,name:"MuiTabScrollButton"}),{className:f,slots:v={},slotProps:y={},direction:w,orientation:p,disabled:C,...I}=h,T=Ge(),x={isRtl:T,...h},W=At(x),n=v.StartScrollButtonIcon??Ct,m=v.EndScrollButtonIcon??Rt,A=me({elementType:n,externalSlotProps:y.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x}),u=me({elementType:m,externalSlotProps:y.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x});return e.jsx(Et,{component:"div",className:q(W.root,f),ref:s,role:null,ownerState:x,tabIndex:null,...I,style:{...I.style,...p==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${T?-90:90}deg)`}},children:w==="left"?e.jsx(n,{...A}):e.jsx(m,{...u})})});function Dt(o){return we("MuiTabs",o)}const Ce=Re("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Xe=(o,t)=>o===t?o.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o.firstChild,Ve=(o,t)=>o===t?o.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o.lastChild,pe=(o,t,s)=>{let h=!1,f=s(o,t);for(;f;){if(f===o.firstChild){if(h)return;h=!0}const v=f.disabled||f.getAttribute("aria-disabled")==="true";if(!f.hasAttribute("tabindex")||v)f=s(o,f);else{f.focus();return}}},kt=o=>{const{vertical:t,fixed:s,hideScrollbar:h,scrollableX:f,scrollableY:v,centered:y,scrollButtonsHideMobile:w,classes:p}=o;return Me({root:["root",t&&"vertical"],scroller:["scroller",s&&"fixed",h&&"hideScrollbar",f&&"scrollableX",v&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",y&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",w&&"scrollButtonsHideMobile"],scrollableX:[f&&"scrollableX"],hideScrollbar:[h&&"hideScrollbar"]},Dt,p)},Pt=ee("div",{name:"MuiTabs",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[{[`& .${Ce.scrollButtons}`]:t.scrollButtons},{[`& .${Ce.scrollButtons}`]:s.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,s.vertical&&t.vertical]}})(Be(({theme:o})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${Ce.scrollButtons}`]:{[o.breakpoints.down("sm")]:{display:"none"}}}}]}))),Ft=ee("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.scroller,s.fixed&&t.fixed,s.hideScrollbar&&t.hideScrollbar,s.scrollableX&&t.scrollableX,s.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:o})=>o.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:o})=>o.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:o})=>o.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:o})=>o.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Lt=ee("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.flexContainer,s.vertical&&t.flexContainerVertical,s.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:o})=>o.vertical,style:{flexDirection:"column"}},{props:({ownerState:o})=>o.centered,style:{justifyContent:"center"}}]}),$t=ee("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(o,t)=>t.indicator})(Be(({theme:o})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:o.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(o.vars||o).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(o.vars||o).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),zt=ee(Mt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Ue={},Ht=r.forwardRef(function(t,s){const h=Te({props:t,name:"MuiTabs"}),f=Je(),v=Ge(),{"aria-label":y,"aria-labelledby":w,action:p,centered:C=!1,children:I,className:T,component:x="div",allowScrollButtonsMobile:W=!1,indicatorColor:n="primary",onChange:m,orientation:A="horizontal",ScrollButtonComponent:u=Nt,scrollButtons:l="auto",selectionFollowsFocus:R,slots:j={},slotProps:k={},TabIndicatorProps:N={},TabScrollButtonProps:F={},textColor:Y="primary",value:$,variant:P="standard",visibleScrollbar:c=!1,...E}=h,b=P==="scrollable",g=A==="vertical",X=g?"scrollTop":"scrollLeft",fe=g?"top":"left",ue=g?"bottom":"right",ge=g?"clientHeight":"clientWidth",te=g?"height":"width",_={...h,component:x,allowScrollButtonsMobile:W,indicatorColor:n,orientation:A,vertical:g,scrollButtons:l,textColor:Y,variant:P,visibleScrollbar:c,fixed:!b,hideScrollbar:b&&!c,scrollableX:b&&!g,scrollableY:b&&g,centered:C&&!b,scrollButtonsHideMobile:!W},G=kt(_),Ze=me({elementType:j.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:_}),et=me({elementType:j.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:_}),[Ie,tt]=r.useState(!1),[Q,We]=r.useState(Ue),[Ae,ot]=r.useState(!1),[Ee,st]=r.useState(!1),[Ne,lt]=r.useState(!1),[De,rt]=r.useState({overflow:"hidden",scrollbarWidth:0}),ke=new Map,V=r.useRef(null),J=r.useRef(null),Pe=()=>{const a=V.current;let i;if(a){const B=a.getBoundingClientRect();i={clientWidth:a.clientWidth,scrollLeft:a.scrollLeft,scrollTop:a.scrollTop,scrollWidth:a.scrollWidth,top:B.top,bottom:B.bottom,left:B.left,right:B.right}}let M;if(a&&$!==!1){const B=J.current.children;if(B.length>0){const D=B[ke.get($)];M=D?D.getBoundingClientRect():null}}return{tabsMeta:i,tabMeta:M}},oe=je(()=>{const{tabsMeta:a,tabMeta:i}=Pe();let M=0,B;g?(B="top",i&&a&&(M=i.top-a.top+a.scrollTop)):(B=v?"right":"left",i&&a&&(M=(v?-1:1)*(i[B]-a[B]+a.scrollLeft)));const D={[B]:M,[te]:i?i[te]:0};if(typeof Q[B]!="number"||typeof Q[te]!="number")We(D);else{const z=Math.abs(Q[B]-D[B]),Z=Math.abs(Q[te]-D[te]);(z>=1||Z>=1)&&We(D)}}),ve=(a,{animation:i=!0}={})=>{i?Bt(X,V.current,a,{duration:f.transitions.duration.standard}):V.current[X]=a},Fe=a=>{let i=V.current[X];g?i+=a:i+=a*(v?-1:1),ve(i)},Le=()=>{const a=V.current[ge];let i=0;const M=Array.from(J.current.children);for(let B=0;B<M.length;B+=1){const D=M[B];if(i+D[ge]>a){B===0&&(i=a);break}i+=D[ge]}return i},nt=()=>{Fe(-1*Le())},at=()=>{Fe(Le())},it=r.useCallback(a=>{rt({overflow:null,scrollbarWidth:a})},[]),ct=()=>{const a={};a.scrollbarSizeListener=b?e.jsx(zt,{onChange:it,className:q(G.scrollableX,G.hideScrollbar)}):null;const M=b&&(l==="auto"&&(Ae||Ee)||l===!0);return a.scrollButtonStart=M?e.jsx(u,{slots:{StartScrollButtonIcon:j.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Ze},orientation:A,direction:v?"right":"left",onClick:nt,disabled:!Ae,...F,className:q(G.scrollButtons,F.className)}):null,a.scrollButtonEnd=M?e.jsx(u,{slots:{EndScrollButtonIcon:j.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:et},orientation:A,direction:v?"left":"right",onClick:at,disabled:!Ee,...F,className:q(G.scrollButtons,F.className)}):null,a},$e=je(a=>{const{tabsMeta:i,tabMeta:M}=Pe();if(!(!M||!i)){if(M[fe]<i[fe]){const B=i[X]+(M[fe]-i[fe]);ve(B,{animation:a})}else if(M[ue]>i[ue]){const B=i[X]+(M[ue]-i[ue]);ve(B,{animation:a})}}}),he=je(()=>{b&&l!==!1&&lt(!Ne)});r.useEffect(()=>{const a=Qe(()=>{V.current&&oe()});let i;const M=z=>{z.forEach(Z=>{Z.removedNodes.forEach(se=>{i==null||i.unobserve(se)}),Z.addedNodes.forEach(se=>{i==null||i.observe(se)})}),a(),he()},B=_e(V.current);B.addEventListener("resize",a);let D;return typeof ResizeObserver<"u"&&(i=new ResizeObserver(a),Array.from(J.current.children).forEach(z=>{i.observe(z)})),typeof MutationObserver<"u"&&(D=new MutationObserver(M),D.observe(J.current,{childList:!0})),()=>{a.clear(),B.removeEventListener("resize",a),D==null||D.disconnect(),i==null||i.disconnect()}},[oe,he]),r.useEffect(()=>{const a=Array.from(J.current.children),i=a.length;if(typeof IntersectionObserver<"u"&&i>0&&b&&l!==!1){const M=a[0],B=a[i-1],D={root:V.current,threshold:.99},z=ye=>{ot(!ye[0].isIntersecting)},Z=new IntersectionObserver(z,D);Z.observe(M);const se=ye=>{st(!ye[0].isIntersecting)},He=new IntersectionObserver(se,D);return He.observe(B),()=>{Z.disconnect(),He.disconnect()}}},[b,l,Ne,I==null?void 0:I.length]),r.useEffect(()=>{tt(!0)},[]),r.useEffect(()=>{oe()}),r.useEffect(()=>{$e(Ue!==Q)},[$e,Q]),r.useImperativeHandle(p,()=>({updateIndicator:oe,updateScrollButtons:he}),[oe,he]);const ze=e.jsx($t,{...N,className:q(G.indicator,N.className),ownerState:_,style:{...Q,...N.style}});let xe=0;const dt=r.Children.map(I,a=>{if(!r.isValidElement(a))return null;const i=a.props.value===void 0?xe:a.props.value;ke.set(i,xe);const M=i===$;return xe+=1,r.cloneElement(a,{fullWidth:P==="fullWidth",indicator:M&&!Ie&&ze,selected:M,selectionFollowsFocus:R,onChange:m,textColor:Y,value:i,...xe===1&&$===!1&&!a.props.tabIndex?{tabIndex:0}:{}})}),ft=a=>{const i=J.current,M=pt(i).activeElement;if(M.getAttribute("role")!=="tab")return;let D=A==="horizontal"?"ArrowLeft":"ArrowUp",z=A==="horizontal"?"ArrowRight":"ArrowDown";switch(A==="horizontal"&&v&&(D="ArrowRight",z="ArrowLeft"),a.key){case D:a.preventDefault(),pe(i,M,Ve);break;case z:a.preventDefault(),pe(i,M,Xe);break;case"Home":a.preventDefault(),pe(i,null,Xe);break;case"End":a.preventDefault(),pe(i,null,Ve);break}},Se=ct();return e.jsxs(Pt,{className:q(G.root,T),ownerState:_,ref:s,as:x,...E,children:[Se.scrollButtonStart,Se.scrollbarSizeListener,e.jsxs(Ft,{className:G.scroller,ownerState:_,style:{overflow:De.overflow,[g?`margin${v?"Left":"Right"}`:"marginBottom"]:c?void 0:-De.scrollbarWidth},ref:V,children:[e.jsx(Lt,{"aria-label":y,"aria-labelledby":w,"aria-orientation":A==="vertical"?"vertical":null,className:G.flexContainer,ownerState:_,onKeyDown:ft,ref:J,role:"tablist",children:dt}),Ie&&ze]}),Se.scrollButtonEnd]})}),Ot=be(e.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),Xt=be(e.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),Vt=[null,re,ne,ae,ie,ce,de],Ke=1e3,Ut=1,Kt=({setHits:o,resetKey:t})=>{const[s,h]=r.useState(""),[f,v]=r.useState(""),[y,w]=r.useState(0),[p,C]=r.useState([]);r.useEffect(()=>{h(""),v(""),w(0),C([]),o(0)},[t,o]);const I=()=>Math.floor(Math.random()*6)+1,T=()=>Math.max(2,Math.min(6,Number(f[0])-y)),x=()=>{if(!s||s<Ut){alert("Please enter a valid number of rolls");return}if(s>Ke){alert(`Maximum ${Ke} rolls allowed`);return}const u=Array.from({length:Number(s)},()=>I());C(u);const l=T(),R=u.filter(j=>j>=l).length;o(R)},W=()=>{const u=p.map(j=>j===1?I():j);C(u);const l=T(),R=u.filter(j=>j>=l).length;o(R)},n=()=>{const u=T(),l=p.map(j=>j<u?I():j);C(l);const R=l.filter(j=>j>=u).length;o(R)},m=p.reduce((u,l)=>(u[l]=(u[l]||0)+1,u),{}),A={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(d,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"HIT ROLLS"}),e.jsxs(d,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Attacks"}),e.jsx(le,{type:"number",value:s,onChange:u=>h(u.target.value),variant:"outlined",inputProps:{min:0},sx:A})]}),e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"WS/BS"}),e.jsx(U,{sx:A,children:e.jsx(K,{value:f,onChange:u=>v(u.target.value),displayEmpty:!0,children:[2,3,4,5,6].map(u=>e.jsxs(O,{value:`${u}+`,children:[u,"+"]},u))})})]}),e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Modifier"}),e.jsx(U,{sx:A,children:e.jsxs(K,{value:y,onChange:u=>w(Number(u.target.value)),displayEmpty:!0,children:[e.jsx(O,{value:"",disabled:!0,children:"Select Modifier"}),[-1,0,1].map(u=>e.jsx(O,{value:u,children:u>0?`+${u}`:u},u))]})})]})]}),e.jsxs(d,{display:"flex",justifyContent:"center",gap:2,children:[e.jsx(H,{variant:"contained",color:"primary",onClick:x,disabled:!s||!f,children:"Roll Dice"}),e.jsx(H,{variant:"contained",color:"secondary",onClick:W,disabled:!p.length,children:"Re-roll 1s"}),e.jsx(H,{variant:"contained",color:"secondary",onClick:n,disabled:!p.length,children:"Re-roll Failed"})]}),e.jsxs(d,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(d,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,children:Vt.slice(1).map((u,l)=>e.jsxs(d,{textAlign:"center",children:[e.jsx(d,{component:"img",src:u,alt:`Dice showing ${l+1}`,sx:{width:50,height:50,marginBottom:1,filter:p.length>0&&(p.filter(R=>R<T()).includes(l+1)||!m[l+1])?"grayscale(1) sepia(1) hue-rotate(-90deg) saturate(100) brightness(0.9)":"none"}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:m[l+1]||0})]},l+1))}),e.jsxs(S,{variant:"h5",marginTop:2,sx:{color:"#ffffff"},children:["Total Hits: ",p.filter(u=>u>=T()).length]})]})]})},Yt=[null,re,ne,ae,ie,ce,de],Gt=({hits:o,setWounds:t})=>{const[s,h]=r.useState(o||0),[f,v]=r.useState(""),[y,w]=r.useState(""),[p,C]=r.useState(0),[I,T]=r.useState([]),[x,W]=r.useState([]),[n,m]=r.useState(0),[A,u]=r.useState([]),l=()=>Math.floor(Math.random()*6)+1,R=(c,E,b)=>{let g;return c>=2*E?g=2:c>E?g=3:c===E?g=4:c<E&&c>E/2?g=5:g=6,Math.max(2,Math.min(6,g-b))},j=()=>{const c=Array.from({length:Number(s)},()=>l());W(c),u(g=>[...g,{timestamp:new Date,rolls:c,strength:f,toughness:y,woundModifier:p}].slice(-5));const E=R(Number(f),Number(y),p),b=c.filter(g=>g>=E);T(b),m(0),t&&t(b.length)},k=()=>{const c=x.map(b=>b===1?l():b),E=x.filter(b=>b===1).length;m(n+E),F(c)},N=()=>{const c=R(Number(f),Number(y),p),E=x.map(g=>g<c?l():g),b=x.filter(g=>g<c).length;m(n+b),F(E)},F=c=>{W(c);const E=R(Number(f),Number(y),p),b=c.filter(g=>g>=E);T(b),t&&t(b.length)},Y=x.reduce((c,E)=>(c[E]=(c[E]||0)+1,c),{}),$=s-I.length,P={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(d,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"WOUND ROLLS"}),e.jsxs(d,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Hits"}),e.jsx(le,{type:"number",value:s,onChange:c=>h(Number(c.target.value)),variant:"outlined",inputProps:{min:0},sx:P})]}),e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Strength"}),e.jsx(U,{sx:P,children:e.jsx(K,{value:f,onChange:c=>v(Number(c.target.value)),displayEmpty:!0,children:[...Array(20).keys()].map(c=>e.jsx(O,{value:c+1,children:c+1},c+1))})})]}),e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Toughness"}),e.jsx(U,{sx:P,children:e.jsx(K,{value:y,onChange:c=>w(Number(c.target.value)),displayEmpty:!0,children:[...Array(20).keys()].map(c=>e.jsx(O,{value:c+1,children:c+1},c+1))})})]}),e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Modifier"}),e.jsx(U,{sx:P,children:e.jsx(K,{value:p,onChange:c=>C(Number(c.target.value)),displayEmpty:!0,children:[-1,0,1].map(c=>e.jsx(O,{value:c,children:c>0?`+${c}`:c},c))})})]})]}),e.jsxs(d,{display:"flex",justifyContent:"center",gap:2,children:[e.jsx(H,{variant:"contained",color:"primary",onClick:j,disabled:!s||!f||!y,children:"Roll Wounds"}),e.jsx(H,{variant:"contained",color:"secondary",onClick:k,disabled:!x.length,children:"Re-roll 1s"}),e.jsx(H,{variant:"contained",color:"secondary",onClick:N,disabled:!x.length,children:"Re-roll Failed"})]}),e.jsxs(d,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(d,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,marginTop:2,children:Yt.slice(1).map((c,E)=>e.jsxs(d,{textAlign:"center",children:[e.jsx(d,{component:"img",src:c,alt:`Dice showing ${E+1}`,sx:{width:50,height:50,marginBottom:1,filter:x.length&&x.filter(b=>b<R(Number(f),Number(y),p)).includes(E+1)?"grayscale(1) sepia(1) hue-rotate(-90deg) saturate(100) brightness(0.9)":"none"}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:Y[E+1]||0})]},E+1))}),e.jsxs(S,{variant:"h5",marginTop:2,sx:{color:"#ffffff"},children:["Total Wounds: ",I.filter(c=>c!==null).length]}),e.jsxs(S,{variant:"h6",marginTop:1,sx:{color:"red"},children:["Resisted: ",$]})]})]})},qt=[null,re,ne,ae,ie,ce,de],_t=({wounds:o,setFailedSaves:t})=>{const[s,h]=r.useState(o),[f,v]=r.useState(""),[y,w]=r.useState(0),[p,C]=r.useState([]),[I,T]=r.useState([]),[x,W]=r.useState({totalRolls:0,successfulSaves:0,failedSaves:0}),n=()=>Math.floor(Math.random()*6)+1,m=()=>{if(!s)return;const l=Array.from({length:s},()=>n());T(l);const R=Math.max(2,Math.min(6,f-y)),j=l.map(N=>N>=R?N:null);C(j);const k=j.filter(N=>N===null).length;t(k),W(N=>({totalRolls:N.totalRolls+l.length,successfulSaves:N.successfulSaves+(l.length-k),failedSaves:N.failedSaves+k}))},A=I.reduce((l,R)=>(l[R]=(l[R]||0)+1,l),{}),u={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(d,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"SAVES"}),e.jsxs(d,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Wounds"}),e.jsx(le,{type:"number",value:s,onChange:l=>h(Number(l.target.value)),variant:"outlined",inputProps:{min:0},sx:u})]}),e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Save"}),e.jsx(U,{sx:u,children:e.jsx(K,{value:f,onChange:l=>v(Number(l.target.value)),displayEmpty:!0,children:[2,3,4,5,6].map(l=>e.jsxs(O,{value:l,children:[l,"+"]},l))})})]}),e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"AP"}),e.jsx(U,{sx:u,children:e.jsx(K,{value:y,onChange:l=>w(Number(l.target.value)),displayEmpty:!0,children:[0,-1,-2,-3,-4,-5,-6].map(l=>e.jsx(O,{value:l,children:l},l))})})]})]}),e.jsx(d,{display:"flex",justifyContent:"center",gap:2,children:e.jsx(H,{variant:"contained",color:"primary",onClick:m,disabled:!s||!f,children:"Roll Saves"})}),e.jsxs(d,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(d,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,marginTop:2,children:[1,2,3,4,5,6].map(l=>e.jsxs(d,{textAlign:"center",children:[e.jsx(d,{component:"img",src:qt[l],alt:`Dice showing ${l}`,sx:{width:50,height:50,marginBottom:1,filter:I.filter(R=>R<Math.max(2,Math.min(6,f-y))).includes(l)||A[l]===0?"grayscale(1) sepia(1) hue-rotate(-90deg) saturate(100) brightness(0.9)":"none"}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:A[l]||0})]},l))}),e.jsxs(S,{variant:"h6",sx:{color:"#ffffff",marginTop:"16px"},children:["Total Wounds: ",s]}),e.jsxs(S,{variant:"h5",sx:{color:"red",marginTop:"4px"},children:["Failed Saves: ",p.filter(l=>l===null).length]})]})]})},Qt=[null,re,ne,ae,ie,ce,de],Jt=({failedSaves:o})=>{const[t,s]=r.useState(o||0),[h,f]=r.useState("N/A"),[v,y]=r.useState([]),[w,p]=r.useState([]),C=()=>Math.floor(Math.random()*6)+1,I=()=>{const n=[],m=[];for(let A=0;A<t;A++)switch(h){case"D3":const u=Math.ceil(C()/2);n.push(u),m.push(u);break;case"2xD3":const l=Math.ceil(C()/2),R=Math.ceil(C()/2);n.push(l,R),m.push(l+R);break;case"D6":const j=C();n.push(j),m.push(j);break;case"2xD6":const k=C(),N=C();n.push(k,N),m.push(k+N);break;default:m.push(0);break}p(n),y(m)},T=v.reduce((n,m)=>n+m,0),x=w.reduce((n,m)=>(n[m]=(n[m]||0)+1,n),{}),W={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(d,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"DAMAGE"}),e.jsxs(d,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Failed Saves"}),e.jsx(le,{type:"number",value:t,onChange:n=>s(Number(n.target.value)),variant:"outlined",inputProps:{min:0},sx:W})]}),e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Damage Type"}),e.jsx(U,{sx:W,children:e.jsx(K,{value:h,onChange:n=>f(n.target.value),displayEmpty:!0,children:["N/A","D3","2xD3","D6","2xD6"].map(n=>e.jsx(O,{value:n,children:n},n))})})]})]}),e.jsx(d,{display:"flex",justifyContent:"center",gap:2,children:e.jsx(H,{variant:"contained",color:"primary",onClick:I,disabled:!t||h==="N/A",children:"Roll Damage"})}),e.jsxs(d,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(d,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,marginTop:2,children:[1,2,3,4,5,6].map(n=>e.jsxs(d,{textAlign:"center",children:[e.jsx(d,{component:"img",src:Qt[n],alt:`Dice showing ${n}`,sx:{width:50,height:50,marginBottom:1}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:x[n]||0})]},n))}),e.jsxs(S,{variant:"h5",sx:{color:"#ffffff",marginTop:"16px"},children:["Total Damage: ",T]})]})]})},Zt=[null,re,ne,ae,ie,ce,de],eo=({totalDamage:o})=>{const[t,s]=r.useState(o||""),[h,f]=r.useState(""),[v,y]=r.useState([]),[w,p]=r.useState(0),C=()=>Math.floor(Math.random()*6)+1,I=()=>{const n=Array.from({length:Number(t)},()=>C());y(n);const m=n.filter(A=>A>=h).length;p(m)},T=v.reduce((n,m)=>(n[m]=(n[m]||0)+1,n),{}),x=(Number(t)||0)-w;r.useEffect(()=>{s(o||"")},[o]);const W={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(d,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"FEEL NO PAIN"}),e.jsxs(d,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Damage"}),e.jsx(le,{type:"number",value:t,onChange:n=>s(n.target.value),variant:"outlined",inputProps:{min:0},sx:W})]}),e.jsxs(d,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"FNP"}),e.jsx(U,{sx:W,children:e.jsx(K,{value:h,onChange:n=>f(Number(n.target.value)),displayEmpty:!0,children:[5,6].map(n=>e.jsxs(O,{value:n,children:[n,"+"]},n))})})]})]}),e.jsx(d,{display:"flex",justifyContent:"center",gap:2,children:e.jsx(H,{variant:"contained",color:"primary",onClick:I,disabled:!t||!h,children:"Roll FNP"})}),e.jsxs(d,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(d,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,marginTop:2,children:[1,2,3,4,5,6].map(n=>e.jsxs(d,{textAlign:"center",children:[e.jsx(d,{component:"img",src:Zt[n],alt:`Dice showing ${n}`,sx:{width:50,height:50,marginBottom:1,filter:v.filter(m=>m<h).includes(n)||T[n]===0?"grayscale(1) sepia(1) hue-rotate(-90deg) saturate(100) brightness(0.9)":"none"}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:T[n]||0})]},n))}),e.jsxs(S,{variant:"h6",sx:{color:"#ffffff",marginTop:"16px"},children:["Wounds Resisted: ",w]}),e.jsxs(S,{variant:"h5",sx:{color:"red"},children:["Wounds Suffered: ",x]})]})]})};ut({palette:{mode:"dark"}});const ro=()=>{var E;const[o,t]=r.useState(0),[s,h]=r.useState(0),[f,v]=r.useState(0),[y,w]=r.useState(0),[p,C]=r.useState(0),[I,T]=r.useState(0),[x,W]=r.useState(0),[n,m]=r.useState(!1),[A,u]=r.useState(null),l=Je(),R=bt("(max-width: 450px)"),j=[{label:"HITS",component:e.jsx(Kt,{setHits:h,resetKey:I})},{label:"WOUNDS",component:e.jsx(Gt,{hits:s,setWounds:v})},{label:"SAVES",component:e.jsx(_t,{wounds:f,setFailedSaves:w})},{label:"DAMAGE",component:e.jsx(Jt,{failedSaves:y,setTotalDamage:C})},{label:"FNP",component:e.jsx(eo,{totalDamage:p})}],k=R?j.slice(x*3,x*3+3):j,N=(b,g)=>{const X=R?x*3+g:g;X>=0&&X<j.length&&t(X)},F=()=>{if(!R)return o;const b=x*3,g=o-b;return g>=0&&g<3?g:0},Y=b=>{u(b),console.error("Dice Roller Error:",b)},$=()=>{try{if(!window.confirm("Are you sure you want to reset all rolls?"))return;m(!0),h(0),v(0),w(0),C(0),T(g=>g+1),t(0)}catch(b){Y(b)}finally{m(!1)}},P=()=>{const b=Math.ceil(j.length/3);x<b-1&&(W(x+1),t((x+1)*3))},c=()=>{x>0&&(W(x-1),t(x*3-3))};return e.jsxs(ht,{theme:l,children:[e.jsx(gt,{onNavigateHome:()=>console.log("Navigate home"),currentPage:"DiceRoller",onExportPDF:null,context:"DiceRoller"}),e.jsx(d,{sx:{width:"100%",padding:"12px",backgroundColor:"transparent"},children:e.jsx(S,{variant:"h4",sx:{textAlign:"left",marginBottom:"12px",color:"#ffffff",fontWeight:500},children:"Dice Roller"})}),e.jsxs(mt,{sx:{maxWidth:"100%"},children:[e.jsx(d,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginTop:4,children:e.jsx(S,{variant:"h4",gutterBottom:!0,children:"Dice Roller"})}),e.jsxs(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",marginBottom:2},children:[R&&e.jsx(Oe,{onClick:c,sx:{color:"#ffffff",visibility:x>0?"visible":"hidden"},children:e.jsx(Ot,{})}),e.jsx(Ht,{value:F(),onChange:N,variant:R?"standard":"scrollable",sx:{flex:1,"& .MuiTabs-indicator":{backgroundColor:"#90caf9"}},children:k.map((b,g)=>e.jsx(jt,{label:b.label,sx:{color:"#ffffff",textTransform:"none"}},g))}),R&&e.jsx(Oe,{onClick:P,sx:{color:"#ffffff",visibility:x<Math.ceil(j.length/3)-1?"visible":"hidden"},children:e.jsx(Xt,{})})]}),e.jsx(d,{marginBottom:2,children:e.jsx(H,{variant:"contained",color:"secondary",onClick:$,sx:{textTransform:"none"},children:"Reset All"})}),((E=j[o])==null?void 0:E.component)||j[0].component]})]})};export{ro as default};
