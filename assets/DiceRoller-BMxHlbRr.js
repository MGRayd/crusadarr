import{r,j as e}from"./index-ZsVPCl_g.js";import{h as Re,g as we,i as Z,j as Ye,n as Ge,q as Be,w as Te,m as G,o as Me,p as be,K as ut,a3 as qe,a4 as _e,N as Qe,M as me,Y as Je,E as je,I as ht,B as f,T as S,a as le,F as X,a0 as U,b as O,C as xt,V as He}from"./TextField-C-dckdQ4.js";import{u as pt,N as mt}from"./Navbar-C3OXiSQW.js";import{M as H,d as re,a as ne,b as ae,c as ie,e as ce,f as de}from"./d6-CTp-PNlF.js";function bt(o){return we("MuiTab",o)}const L=Re("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),gt=o=>{const{classes:t,textColor:s,fullWidth:h,wrapped:d,icon:b,label:g,selected:w,disabled:p}=o,C={root:["root",b&&g&&"labelIcon",`textColor${Ge(s)}`,h&&"fullWidth",d&&"wrapped",w&&"selected",p&&"disabled"],icon:["iconWrapper","icon"]};return Me(C,bt,t)},vt=Z(Ye,{name:"MuiTab",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.root,s.label&&s.icon&&t.labelIcon,t[`textColor${Ge(s.textColor)}`],s.fullWidth&&t.fullWidth,s.wrapped&&t.wrapped,{[`& .${L.iconWrapper}`]:t.iconWrapper},{[`& .${L.icon}`]:t.icon}]}})(Be(({theme:o})=>({...o.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:s})=>t.icon&&t.label&&s==="top",style:{[`& > .${L.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:s})=>t.icon&&t.label&&s==="bottom",style:{[`& > .${L.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:s})=>t.icon&&t.label&&s==="start",style:{[`& > .${L.icon}`]:{marginRight:o.spacing(1)}}},{props:({ownerState:t,iconPosition:s})=>t.icon&&t.label&&s==="end",style:{[`& > .${L.icon}`]:{marginLeft:o.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${L.selected}`]:{opacity:1},[`&.${L.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(o.vars||o).palette.text.secondary,[`&.${L.selected}`]:{color:(o.vars||o).palette.primary.main},[`&.${L.disabled}`]:{color:(o.vars||o).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(o.vars||o).palette.text.secondary,[`&.${L.selected}`]:{color:(o.vars||o).palette.secondary.main},[`&.${L.disabled}`]:{color:(o.vars||o).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:o.typography.pxToRem(12)}}]}))),St=r.forwardRef(function(t,s){const h=Te({props:t,name:"MuiTab"}),{className:d,disabled:b=!1,disableFocusRipple:g=!1,fullWidth:w,icon:p,iconPosition:C="top",indicator:I,label:T,onChange:x,onClick:A,onFocus:n,selected:m,selectionFollowsFocus:E,textColor:u="inherit",value:l,wrapped:j=!1,...W}=h,k={...h,disabled:b,disableFocusRipple:g,selected:m,icon:!!p,iconPosition:C,label:!!T,fullWidth:w,textColor:u,wrapped:j},N=gt(k),P=p&&T&&r.isValidElement(p)?r.cloneElement(p,{className:G(N.icon,p.props.className)}):p,K=F=>{!m&&x&&x(F,l),A&&A(F)},$=F=>{E&&!m&&x&&x(F,l),n&&n(F)};return e.jsxs(vt,{focusRipple:!g,className:G(N.root,d),ref:s,role:"tab","aria-selected":m,disabled:b,onClick:K,onFocus:$,ownerState:k,tabIndex:m?0:-1,...W,children:[C==="top"||C==="start"?e.jsxs(r.Fragment,{children:[P,T]}):e.jsxs(r.Fragment,{children:[T,P]}),I]})}),yt=be(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),jt=be(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Ct(o){return(1+Math.sin(Math.PI*o-Math.PI/2))/2}function Rt(o,t,s,h={},d=()=>{}){const{ease:b=Ct,duration:g=300}=h;let w=null;const p=t[o];let C=!1;const I=()=>{C=!0},T=x=>{if(C){d(new Error("Animation cancelled"));return}w===null&&(w=x);const A=Math.min(1,(x-w)/g);if(t[o]=b(A)*(s-p)+p,A>=1){requestAnimationFrame(()=>{d(null)});return}requestAnimationFrame(T)};return p===s?(d(new Error("Element already at target position")),I):(requestAnimationFrame(T),I)}const wt={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Bt(o){const{onChange:t,...s}=o,h=r.useRef(),d=r.useRef(null),b=()=>{h.current=d.current.offsetHeight-d.current.clientHeight};return ut(()=>{const g=_e(()=>{const p=h.current;b(),p!==h.current&&t(h.current)}),w=qe(d.current);return w.addEventListener("resize",g),()=>{g.clear(),w.removeEventListener("resize",g)}},[t]),r.useEffect(()=>{b(),t(h.current)},[t]),e.jsx("div",{style:wt,ref:d,...s})}function Tt(o){return we("MuiTabScrollButton",o)}const Mt=Re("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),It=o=>{const{classes:t,orientation:s,disabled:h}=o;return Me({root:["root",s,h&&"disabled"]},Tt,t)},Wt=Z(Ye,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.root,s.orientation&&t[s.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Mt.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),At=r.forwardRef(function(t,s){const h=Te({props:t,name:"MuiTabScrollButton"}),{className:d,slots:b={},slotProps:g={},direction:w,orientation:p,disabled:C,...I}=h,T=Qe(),x={isRtl:T,...h},A=It(x),n=b.StartScrollButtonIcon??yt,m=b.EndScrollButtonIcon??jt,E=me({elementType:n,externalSlotProps:g.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x}),u=me({elementType:m,externalSlotProps:g.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x});return e.jsx(Wt,{component:"div",className:G(A.root,d),ref:s,role:null,ownerState:x,tabIndex:null,...I,style:{...I.style,...p==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${T?-90:90}deg)`}},children:w==="left"?e.jsx(n,{...E}):e.jsx(m,{...u})})});function Et(o){return we("MuiTabs",o)}const Ce=Re("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Ve=(o,t)=>o===t?o.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o.firstChild,Xe=(o,t)=>o===t?o.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o.lastChild,pe=(o,t,s)=>{let h=!1,d=s(o,t);for(;d;){if(d===o.firstChild){if(h)return;h=!0}const b=d.disabled||d.getAttribute("aria-disabled")==="true";if(!d.hasAttribute("tabindex")||b)d=s(o,d);else{d.focus();return}}},Nt=o=>{const{vertical:t,fixed:s,hideScrollbar:h,scrollableX:d,scrollableY:b,centered:g,scrollButtonsHideMobile:w,classes:p}=o;return Me({root:["root",t&&"vertical"],scroller:["scroller",s&&"fixed",h&&"hideScrollbar",d&&"scrollableX",b&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",g&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",w&&"scrollButtonsHideMobile"],scrollableX:[d&&"scrollableX"],hideScrollbar:[h&&"hideScrollbar"]},Et,p)},Dt=Z("div",{name:"MuiTabs",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[{[`& .${Ce.scrollButtons}`]:t.scrollButtons},{[`& .${Ce.scrollButtons}`]:s.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,s.vertical&&t.vertical]}})(Be(({theme:o})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${Ce.scrollButtons}`]:{[o.breakpoints.down("sm")]:{display:"none"}}}}]}))),kt=Z("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.scroller,s.fixed&&t.fixed,s.hideScrollbar&&t.hideScrollbar,s.scrollableX&&t.scrollableX,s.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:o})=>o.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:o})=>o.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:o})=>o.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:o})=>o.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Ft=Z("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(o,t)=>{const{ownerState:s}=o;return[t.flexContainer,s.vertical&&t.flexContainerVertical,s.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:o})=>o.vertical,style:{flexDirection:"column"}},{props:({ownerState:o})=>o.centered,style:{justifyContent:"center"}}]}),Pt=Z("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(o,t)=>t.indicator})(Be(({theme:o})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:o.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(o.vars||o).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(o.vars||o).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),Lt=Z(Bt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Ue={},$t=r.forwardRef(function(t,s){const h=Te({props:t,name:"MuiTabs"}),d=Je(),b=Qe(),{"aria-label":g,"aria-labelledby":w,action:p,centered:C=!1,children:I,className:T,component:x="div",allowScrollButtonsMobile:A=!1,indicatorColor:n="primary",onChange:m,orientation:E="horizontal",ScrollButtonComponent:u=At,scrollButtons:l="auto",selectionFollowsFocus:j,slots:W={},slotProps:k={},TabIndicatorProps:N={},TabScrollButtonProps:P={},textColor:K="primary",value:$,variant:F="standard",visibleScrollbar:i=!1,...y}=h,v=F==="scrollable",R=E==="vertical",ee=R?"scrollTop":"scrollLeft",fe=R?"top":"left",ue=R?"bottom":"right",ge=R?"clientHeight":"clientWidth",te=R?"height":"width",q={...h,component:x,allowScrollButtonsMobile:A,indicatorColor:n,orientation:E,vertical:R,scrollButtons:l,textColor:K,variant:F,visibleScrollbar:i,fixed:!v,hideScrollbar:v&&!i,scrollableX:v&&!R,scrollableY:v&&R,centered:C&&!v,scrollButtonsHideMobile:!A},Y=Nt(q),Ze=me({elementType:W.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:q}),et=me({elementType:W.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:q}),[Ie,tt]=r.useState(!1),[_,We]=r.useState(Ue),[Ae,ot]=r.useState(!1),[Ee,st]=r.useState(!1),[Ne,lt]=r.useState(!1),[De,rt]=r.useState({overflow:"hidden",scrollbarWidth:0}),ke=new Map,V=r.useRef(null),Q=r.useRef(null),Fe=()=>{const a=V.current;let c;if(a){const B=a.getBoundingClientRect();c={clientWidth:a.clientWidth,scrollLeft:a.scrollLeft,scrollTop:a.scrollTop,scrollWidth:a.scrollWidth,top:B.top,bottom:B.bottom,left:B.left,right:B.right}}let M;if(a&&$!==!1){const B=Q.current.children;if(B.length>0){const D=B[ke.get($)];M=D?D.getBoundingClientRect():null}}return{tabsMeta:c,tabMeta:M}},oe=je(()=>{const{tabsMeta:a,tabMeta:c}=Fe();let M=0,B;R?(B="top",c&&a&&(M=c.top-a.top+a.scrollTop)):(B=b?"right":"left",c&&a&&(M=(b?-1:1)*(c[B]-a[B]+a.scrollLeft)));const D={[B]:M,[te]:c?c[te]:0};if(typeof _[B]!="number"||typeof _[te]!="number")We(D);else{const z=Math.abs(_[B]-D[B]),J=Math.abs(_[te]-D[te]);(z>=1||J>=1)&&We(D)}}),ve=(a,{animation:c=!0}={})=>{c?Rt(ee,V.current,a,{duration:d.transitions.duration.standard}):V.current[ee]=a},Pe=a=>{let c=V.current[ee];R?c+=a:c+=a*(b?-1:1),ve(c)},Le=()=>{const a=V.current[ge];let c=0;const M=Array.from(Q.current.children);for(let B=0;B<M.length;B+=1){const D=M[B];if(c+D[ge]>a){B===0&&(c=a);break}c+=D[ge]}return c},nt=()=>{Pe(-1*Le())},at=()=>{Pe(Le())},it=r.useCallback(a=>{rt({overflow:null,scrollbarWidth:a})},[]),ct=()=>{const a={};a.scrollbarSizeListener=v?e.jsx(Lt,{onChange:it,className:G(Y.scrollableX,Y.hideScrollbar)}):null;const M=v&&(l==="auto"&&(Ae||Ee)||l===!0);return a.scrollButtonStart=M?e.jsx(u,{slots:{StartScrollButtonIcon:W.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Ze},orientation:E,direction:b?"right":"left",onClick:nt,disabled:!Ae,...P,className:G(Y.scrollButtons,P.className)}):null,a.scrollButtonEnd=M?e.jsx(u,{slots:{EndScrollButtonIcon:W.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:et},orientation:E,direction:b?"left":"right",onClick:at,disabled:!Ee,...P,className:G(Y.scrollButtons,P.className)}):null,a},$e=je(a=>{const{tabsMeta:c,tabMeta:M}=Fe();if(!(!M||!c)){if(M[fe]<c[fe]){const B=c[ee]+(M[fe]-c[fe]);ve(B,{animation:a})}else if(M[ue]>c[ue]){const B=c[ee]+(M[ue]-c[ue]);ve(B,{animation:a})}}}),he=je(()=>{v&&l!==!1&&lt(!Ne)});r.useEffect(()=>{const a=_e(()=>{V.current&&oe()});let c;const M=z=>{z.forEach(J=>{J.removedNodes.forEach(se=>{c==null||c.unobserve(se)}),J.addedNodes.forEach(se=>{c==null||c.observe(se)})}),a(),he()},B=qe(V.current);B.addEventListener("resize",a);let D;return typeof ResizeObserver<"u"&&(c=new ResizeObserver(a),Array.from(Q.current.children).forEach(z=>{c.observe(z)})),typeof MutationObserver<"u"&&(D=new MutationObserver(M),D.observe(Q.current,{childList:!0})),()=>{a.clear(),B.removeEventListener("resize",a),D==null||D.disconnect(),c==null||c.disconnect()}},[oe,he]),r.useEffect(()=>{const a=Array.from(Q.current.children),c=a.length;if(typeof IntersectionObserver<"u"&&c>0&&v&&l!==!1){const M=a[0],B=a[c-1],D={root:V.current,threshold:.99},z=ye=>{ot(!ye[0].isIntersecting)},J=new IntersectionObserver(z,D);J.observe(M);const se=ye=>{st(!ye[0].isIntersecting)},Oe=new IntersectionObserver(se,D);return Oe.observe(B),()=>{J.disconnect(),Oe.disconnect()}}},[v,l,Ne,I==null?void 0:I.length]),r.useEffect(()=>{tt(!0)},[]),r.useEffect(()=>{oe()}),r.useEffect(()=>{$e(Ue!==_)},[$e,_]),r.useImperativeHandle(p,()=>({updateIndicator:oe,updateScrollButtons:he}),[oe,he]);const ze=e.jsx(Pt,{...N,className:G(Y.indicator,N.className),ownerState:q,style:{..._,...N.style}});let xe=0;const dt=r.Children.map(I,a=>{if(!r.isValidElement(a))return null;const c=a.props.value===void 0?xe:a.props.value;ke.set(c,xe);const M=c===$;return xe+=1,r.cloneElement(a,{fullWidth:F==="fullWidth",indicator:M&&!Ie&&ze,selected:M,selectionFollowsFocus:j,onChange:m,textColor:K,value:c,...xe===1&&$===!1&&!a.props.tabIndex?{tabIndex:0}:{}})}),ft=a=>{const c=Q.current,M=ht(c).activeElement;if(M.getAttribute("role")!=="tab")return;let D=E==="horizontal"?"ArrowLeft":"ArrowUp",z=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&b&&(D="ArrowRight",z="ArrowLeft"),a.key){case D:a.preventDefault(),pe(c,M,Xe);break;case z:a.preventDefault(),pe(c,M,Ve);break;case"Home":a.preventDefault(),pe(c,null,Ve);break;case"End":a.preventDefault(),pe(c,null,Xe);break}},Se=ct();return e.jsxs(Dt,{className:G(Y.root,T),ownerState:q,ref:s,as:x,...y,children:[Se.scrollButtonStart,Se.scrollbarSizeListener,e.jsxs(kt,{className:Y.scroller,ownerState:q,style:{overflow:De.overflow,[R?`margin${b?"Left":"Right"}`:"marginBottom"]:i?void 0:-De.scrollbarWidth},ref:V,children:[e.jsx(Ft,{"aria-label":g,"aria-labelledby":w,"aria-orientation":E==="vertical"?"vertical":null,className:Y.flexContainer,ownerState:q,onKeyDown:ft,ref:Q,role:"tablist",children:dt}),Ie&&ze]}),Se.scrollButtonEnd]})}),zt=be(e.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),Ot=be(e.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),Ht=[null,re,ne,ae,ie,ce,de],Ke=1e3,Vt=1,Xt=({setHits:o,resetKey:t})=>{const[s,h]=r.useState(""),[d,b]=r.useState(""),[g,w]=r.useState(0),[p,C]=r.useState([]);r.useEffect(()=>{h(""),b(""),w(0),C([]),o(0)},[t,o]);const I=()=>Math.floor(Math.random()*6)+1,T=()=>Math.max(2,Math.min(6,Number(d[0])-g)),x=()=>{if(!s||s<Vt){alert("Please enter a valid number of rolls");return}if(s>Ke){alert(`Maximum ${Ke} rolls allowed`);return}const u=Array.from({length:Number(s)},()=>I());C(u);const l=T(),j=u.filter(W=>W>=l).length;o(j)},A=()=>{const u=p.map(W=>W===1?I():W);C(u);const l=T(),j=u.filter(W=>W>=l).length;o(j)},n=()=>{const u=T(),l=p.map(W=>W<u?I():W);C(l);const j=l.filter(W=>W>=u).length;o(j)},m=p.reduce((u,l)=>(u[l]=(u[l]||0)+1,u),{}),E={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(f,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"HIT ROLLS"}),e.jsxs(f,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Attacks"}),e.jsx(le,{type:"number",value:s,onChange:u=>h(u.target.value),variant:"outlined",inputProps:{min:0},sx:E})]}),e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"WS/BS"}),e.jsx(X,{sx:E,children:e.jsx(U,{value:d,onChange:u=>b(u.target.value),displayEmpty:!0,children:[2,3,4,5,6].map(u=>e.jsxs(H,{value:`${u}+`,children:[u,"+"]},u))})})]}),e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Modifier"}),e.jsx(X,{sx:E,children:e.jsxs(U,{value:g,onChange:u=>w(Number(u.target.value)),displayEmpty:!0,children:[e.jsx(H,{value:"",disabled:!0,children:"Select Modifier"}),[-1,0,1].map(u=>e.jsx(H,{value:u,children:u>0?`+${u}`:u},u))]})})]})]}),e.jsxs(f,{display:"flex",justifyContent:"center",gap:2,children:[e.jsx(O,{variant:"contained",color:"primary",onClick:x,disabled:!s||!d,children:"Roll Dice"}),e.jsx(O,{variant:"contained",color:"secondary",onClick:A,disabled:!p.length,children:"Re-roll 1s"}),e.jsx(O,{variant:"contained",color:"secondary",onClick:n,disabled:!p.length,children:"Re-roll Failed"})]}),e.jsxs(f,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(f,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,children:Ht.slice(1).map((u,l)=>e.jsxs(f,{textAlign:"center",children:[e.jsx(f,{component:"img",src:u,alt:`Dice showing ${l+1}`,sx:{width:50,height:50,marginBottom:1,filter:p.length>0&&(p.filter(j=>j<T()).includes(l+1)||!m[l+1])?"grayscale(1) sepia(1) hue-rotate(-90deg) saturate(100) brightness(0.9)":"none"}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:m[l+1]||0})]},l+1))}),e.jsxs(S,{variant:"h5",marginTop:2,sx:{color:"#ffffff"},children:["Total Hits: "," ",p.filter(u=>u>=T()).length]})]})]})},Ut=[null,re,ne,ae,ie,ce,de],Kt=({hits:o,setWounds:t})=>{const[s,h]=r.useState(o||0),[d,b]=r.useState(""),[g,w]=r.useState(""),[p,C]=r.useState(0),[I,T]=r.useState([]),[x,A]=r.useState([]),[n,m]=r.useState(0),[E,u]=r.useState([]),l=()=>Math.floor(Math.random()*6)+1,j=(i,y,v)=>{let R;return i>=2*y?R=2:i>y?R=3:i===y?R=4:i<y&&i>y/2?R=5:R=6,Math.max(2,Math.min(6,R-v))},W=()=>{const i=Array.from({length:Number(s)},()=>l());A(i),u(R=>[...R,{timestamp:new Date,rolls:i,strength:d,toughness:g,woundModifier:p}].slice(-5));const y=j(Number(d),Number(g),p),v=i.filter(R=>R>=y);T(v),m(0),t&&t(v.length)},k=()=>{const i=x.map(v=>v===1?l():v),y=x.filter(v=>v===1).length;m(n+y),P(i)},N=()=>{const i=j(Number(d),Number(g),p),y=x.map(R=>R<i?l():R),v=x.filter(R=>R<i).length;m(n+v),P(y)},P=i=>{A(i);const y=j(Number(d),Number(g),p),v=i.filter(R=>R>=y);T(v),t&&t(v.length)},K=x.reduce((i,y)=>(i[y]=(i[y]||0)+1,i),{}),$=s-I.length,F={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(f,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"WOUND ROLLS"}),e.jsxs(f,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Hits"}),e.jsx(le,{type:"number",value:s,onChange:i=>h(Number(i.target.value)),variant:"outlined",inputProps:{min:0},sx:F})]}),e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Strength"}),e.jsx(X,{sx:F,children:e.jsx(U,{value:d,onChange:i=>b(Number(i.target.value)),displayEmpty:!0,children:[...Array(20).keys()].map(i=>e.jsx(H,{value:i+1,children:i+1},i+1))})})]}),e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Toughness"}),e.jsx(X,{sx:F,children:e.jsx(U,{value:g,onChange:i=>w(Number(i.target.value)),displayEmpty:!0,children:[...Array(20).keys()].map(i=>e.jsx(H,{value:i+1,children:i+1},i+1))})})]}),e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Modifier"}),e.jsx(X,{sx:F,children:e.jsx(U,{value:p,onChange:i=>C(Number(i.target.value)),displayEmpty:!0,children:[-1,0,1].map(i=>e.jsx(H,{value:i,children:i>0?`+${i}`:i},i))})})]})]}),e.jsxs(f,{display:"flex",justifyContent:"center",gap:2,children:[e.jsx(O,{variant:"contained",color:"primary",onClick:W,disabled:!s||!d||!g,children:"Roll Wounds"}),e.jsx(O,{variant:"contained",color:"secondary",onClick:k,disabled:!x.length,children:"Re-roll 1s"}),e.jsx(O,{variant:"contained",color:"secondary",onClick:N,disabled:!x.length,children:"Re-roll Failed"})]}),e.jsxs(f,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(f,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,marginTop:2,children:Ut.slice(1).map((i,y)=>e.jsxs(f,{textAlign:"center",children:[e.jsx(f,{component:"img",src:i,alt:`Dice showing ${y+1}`,sx:{width:50,height:50,marginBottom:1,filter:x.length&&x.filter(v=>v<j(Number(d),Number(g),p)).includes(y+1)?"grayscale(1) sepia(1) hue-rotate(-90deg) saturate(100) brightness(0.9)":"none"}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:K[y+1]||0})]},y+1))}),e.jsxs(S,{variant:"h5",marginTop:2,sx:{color:"#ffffff"},children:["Total Wounds: "," ",I.filter(i=>i!==null).length]}),e.jsxs(S,{variant:"h6",marginTop:1,sx:{color:"red"},children:["Resisted: "," ",$]})]})]})},Yt=[null,re,ne,ae,ie,ce,de],Gt=({wounds:o,setFailedSaves:t})=>{const[s,h]=r.useState(o),[d,b]=r.useState(""),[g,w]=r.useState(0),[p,C]=r.useState([]),[I,T]=r.useState([]),[x,A]=r.useState({totalRolls:0,successfulSaves:0,failedSaves:0}),n=()=>Math.floor(Math.random()*6)+1,m=()=>{if(!s)return;const l=Array.from({length:s},()=>n());T(l);const j=Math.max(2,Math.min(6,d-g)),W=l.map(N=>N>=j?N:null);C(W);const k=W.filter(N=>N===null).length;t(k),A(N=>({totalRolls:N.totalRolls+l.length,successfulSaves:N.successfulSaves+(l.length-k),failedSaves:N.failedSaves+k}))},E=I.reduce((l,j)=>(l[j]=(l[j]||0)+1,l),{}),u={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(f,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"SAVES"}),e.jsxs(f,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Wounds"}),e.jsx(le,{type:"number",value:s,onChange:l=>h(Number(l.target.value)),variant:"outlined",inputProps:{min:0},sx:u})]}),e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Save"}),e.jsx(X,{sx:u,children:e.jsx(U,{value:d,onChange:l=>b(Number(l.target.value)),displayEmpty:!0,children:[2,3,4,5,6].map(l=>e.jsxs(H,{value:l,children:[l,"+"]},l))})})]}),e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"AP"}),e.jsx(X,{sx:u,children:e.jsx(U,{value:g,onChange:l=>w(Number(l.target.value)),displayEmpty:!0,children:[0,-1,-2,-3,-4,-5,-6].map(l=>e.jsx(H,{value:l,children:l},l))})})]})]}),e.jsx(f,{display:"flex",justifyContent:"center",gap:2,children:e.jsx(O,{variant:"contained",color:"primary",onClick:m,disabled:!s||!d,children:"Roll Saves"})}),e.jsxs(f,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(f,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,marginTop:2,children:[1,2,3,4,5,6].map(l=>e.jsxs(f,{textAlign:"center",children:[e.jsx(f,{component:"img",src:Yt[l],alt:`Dice showing ${l}`,sx:{width:50,height:50,marginBottom:1,filter:I.filter(j=>j<Math.max(2,Math.min(6,d-g))).includes(l)||E[l]===0?"grayscale(1) sepia(1) hue-rotate(-90deg) saturate(100) brightness(0.9)":"none"}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:E[l]||0})]},l))}),e.jsxs(S,{variant:"h6",sx:{color:"#ffffff",marginTop:"16px"},children:["Total Wounds: "," ",s]}),e.jsxs(S,{variant:"h5",sx:{color:"red",marginTop:"4px"},children:["Failed Saves: "," ",p.filter(l=>l===null).length]})]})]})},qt=[null,re,ne,ae,ie,ce,de],_t=({failedSaves:o})=>{const[t,s]=r.useState(o||0),[h,d]=r.useState("N/A"),[b,g]=r.useState([]),[w,p]=r.useState([]),C=()=>Math.floor(Math.random()*6)+1,I=()=>{const n=[],m=[];for(let E=0;E<t;E++)switch(h){case"D3":const u=Math.ceil(C()/2);n.push(u),m.push(u);break;case"2xD3":const l=Math.ceil(C()/2),j=Math.ceil(C()/2);n.push(l,j),m.push(l+j);break;case"D6":const W=C();n.push(W),m.push(W);break;case"2xD6":const k=C(),N=C();n.push(k,N),m.push(k+N);break;default:m.push(0);break}p(n),g(m)},T=b.reduce((n,m)=>n+m,0),x=w.reduce((n,m)=>(n[m]=(n[m]||0)+1,n),{}),A={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(f,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"DAMAGE"}),e.jsxs(f,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Failed Saves"}),e.jsx(le,{type:"number",value:t,onChange:n=>s(Number(n.target.value)),variant:"outlined",inputProps:{min:0},sx:A})]}),e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Damage Type"}),e.jsx(X,{sx:A,children:e.jsx(U,{value:h,onChange:n=>d(n.target.value),displayEmpty:!0,children:["N/A","D3","2xD3","D6","2xD6"].map(n=>e.jsx(H,{value:n,children:n},n))})})]})]}),e.jsx(f,{display:"flex",justifyContent:"center",gap:2,children:e.jsx(O,{variant:"contained",color:"primary",onClick:I,disabled:!t||h==="N/A",children:"Roll Damage"})}),e.jsxs(f,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(f,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,marginTop:2,children:[1,2,3,4,5,6].map(n=>e.jsxs(f,{textAlign:"center",children:[e.jsx(f,{component:"img",src:qt[n],alt:`Dice showing ${n}`,sx:{width:50,height:50,marginBottom:1}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:x[n]||0})]},n))}),e.jsxs(S,{variant:"h5",sx:{color:"#ffffff",marginTop:"16px"},children:["Total Damage: "," ",T]})]})]})},Qt=[null,re,ne,ae,ie,ce,de],Jt=({totalDamage:o})=>{const[t,s]=r.useState(o||""),[h,d]=r.useState(""),[b,g]=r.useState([]),[w,p]=r.useState(0),C=()=>Math.floor(Math.random()*6)+1,I=()=>{const n=Array.from({length:Number(t)},()=>C());g(n);const m=n.filter(E=>E>=h).length;p(m)},T=b.reduce((n,m)=>(n[m]=(n[m]||0)+1,n),{}),x=(Number(t)||0)-w;r.useEffect(()=>{s(o||"")},[o]);const A={width:"100%",maxWidth:300,"& .MuiOutlinedInput-root":{color:"#ffffff",backgroundColor:"#2e2e2e","& fieldset":{borderColor:"#ffffff"},"&:hover fieldset":{borderColor:"#90caf9"},"&.Mui-focused fieldset":{borderColor:"#90caf9"}}};return e.jsxs(f,{sx:{textAlign:"center"},children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"FEEL NO PAIN"}),e.jsxs(f,{marginBottom:3,sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"Damage"}),e.jsx(le,{type:"number",value:t,onChange:n=>s(n.target.value),variant:"outlined",inputProps:{min:0},sx:A})]}),e.jsxs(f,{sx:{width:"100%",maxWidth:300,textAlign:"left"},children:[e.jsx(S,{variant:"body1",sx:{color:"#ffffff",marginBottom:"4px"},children:"FNP"}),e.jsx(X,{sx:A,children:e.jsx(U,{value:h,onChange:n=>d(Number(n.target.value)),displayEmpty:!0,children:[5,6].map(n=>e.jsxs(H,{value:n,children:[n,"+"]},n))})})]})]}),e.jsx(f,{display:"flex",justifyContent:"center",gap:2,children:e.jsx(O,{variant:"contained",color:"primary",onClick:I,disabled:!t||!h,children:"Roll FNP"})}),e.jsxs(f,{marginTop:4,children:[e.jsx(S,{variant:"h6",gutterBottom:!0,sx:{color:"#ffffff"},children:"Results:"}),e.jsx(f,{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:2,marginTop:2,children:[1,2,3,4,5,6].map(n=>e.jsxs(f,{textAlign:"center",children:[e.jsx(f,{component:"img",src:Qt[n],alt:`Dice showing ${n}`,sx:{width:50,height:50,marginBottom:1,filter:b.filter(m=>m<h).includes(n)||T[n]===0?"grayscale(1) sepia(1) hue-rotate(-90deg) saturate(100) brightness(0.9)":"none"}}),e.jsx(S,{variant:"body1",sx:{color:"#ffffff"},children:T[n]||0})]},n))}),e.jsxs(S,{variant:"h6",sx:{color:"#ffffff",marginTop:"16px"},children:["Wounds Resisted: "," ",w]}),e.jsxs(S,{variant:"h5",sx:{color:"red"},children:["Wounds Suffered: "," ",x]})]})]})},so=()=>{var i;const[o,t]=r.useState(0),[s,h]=r.useState(0),[d,b]=r.useState(0),[g,w]=r.useState(0),[p,C]=r.useState(0),[I,T]=r.useState(0),[x,A]=r.useState(0),[n,m]=r.useState(!1),[E,u]=r.useState(null);Je();const l=pt("(max-width: 450px)"),j=[{label:"HITS",component:e.jsx(Xt,{setHits:h,resetKey:I})},{label:"WOUNDS",component:e.jsx(Kt,{hits:s,setWounds:b})},{label:"SAVES",component:e.jsx(Gt,{wounds:d,setFailedSaves:w})},{label:"DAMAGE",component:e.jsx(_t,{failedSaves:g,setTotalDamage:C})},{label:"FNP",component:e.jsx(Jt,{totalDamage:p})}],W=l?j.slice(x*3,x*3+3):j,k=(y,v)=>{const R=l?x*3+v:v;R>=0&&R<j.length&&t(R)},N=()=>{if(!l)return o;const y=x*3,v=o-y;return v>=0&&v<3?v:0},P=y=>{u(y),console.error("Dice Roller Error:",y)},K=()=>{try{if(!window.confirm("Are you sure you want to reset all rolls?"))return;m(!0),h(0),b(0),w(0),C(0),T(v=>v+1),t(0)}catch(y){P(y)}finally{m(!1)}},$=()=>{const y=Math.ceil(j.length/3);x<y-1&&(A(x+1),t((x+1)*3))},F=()=>{x>0&&(A(x-1),t(x*3-3))};return e.jsxs(e.Fragment,{children:[e.jsx(mt,{onNavigateHome:()=>console.log("Navigate home"),currentPage:"DiceRoller",onExportPDF:null,context:"DiceRoller"}),e.jsxs(xt,{sx:{paddingTop:{xs:"56px",sm:"64px"},textAlign:"center"},children:[e.jsx(S,{variant:"h4",gutterBottom:!0,children:"Dice Roller"}),e.jsxs(f,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",marginBottom:2},children:[l&&e.jsx(He,{onClick:F,sx:{color:"#ffffff",visibility:x>0?"visible":"hidden"},children:e.jsx(zt,{})}),e.jsx($t,{value:N(),onChange:k,variant:l?"standard":"scrollable",sx:{flex:1,"& .MuiTabs-indicator":{backgroundColor:"#90caf9"}},children:W.map((y,v)=>e.jsx(St,{label:y.label,sx:{color:"#ffffff",textTransform:"none"}},v))}),l&&e.jsx(He,{onClick:$,sx:{color:"#ffffff",visibility:x<Math.ceil(j.length/3)-1?"visible":"hidden"},children:e.jsx(Ot,{})})]}),e.jsx(f,{marginBottom:2,children:e.jsx(O,{variant:"contained",color:"secondary",onClick:K,sx:{textTransform:"none"},children:"Reset All"})}),((i=j[o])==null?void 0:i.component)||j[0].component]})]})};export{so as default};
